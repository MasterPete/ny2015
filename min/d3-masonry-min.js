!function(t){var n="0.1.0";d3.masonic=function(){function t(t,u){0===i.length&&(i=d3.range(r).map(g));var a=o.apply(this,arguments)||0,h=f.apply(this,arguments)||0,s=Math.ceil(a/e),c={width:a,height:h,data:t};if(s=c.span=Math.min(s,r),1===s)n(c,i);else{for(var l=r+1-s,m=[],d,u=0;l>u;u++)d=i.slice(u,u+s),m[u]=Math.max.apply(Math,d);n(c,m)}return c}function n(t,n){for(var h=Math.min.apply(Math,n),o=n.length,f=0,g=0;o>g;g++)if(n[g]===h){f=g;break}t.column=f,t.x=e*f,t.y=h;var s=h+t.height,c=r+1-o;for(g=0;c>g;g++)i[f+g]=s;a=Math.max.apply(Math,i),u=Math.max(u,t.x+t.width)}var r=0,e=200,u=0,a=0,i=[],h=[],o=function(){return this.offsetWidth},f=function(){return this.offsetHeight},g=d3.functor(0);return t.width=function(n){return arguments.length?(o=d3.functor(n),t):o},t.height=function(n){return arguments.length?(f=d3.functor(n),t):f},t.columnWidth=function(n){return arguments.length?(e=n,0===u&&(u=r*e),t):e},t.columnCount=function(n){return arguments.length?(r=n,t):r},t.outerWidth=function(n){return arguments.length?(u=n,e>0&&(r=Math.floor(u/e)),t):u},t.outerHeight=function(){if(arguments.length)throw"outerHeight() is a getter only";return a},t.reset=function(){return h=[],i=[],a=0,t},t.reset()},d3.masonic.version=n}(this);