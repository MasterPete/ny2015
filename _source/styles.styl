
dice = rgba(248,93,158,0.9)
message = #eed3ff

sideA = dice
sideA2 = darken(dice, 2.5)
sideB = darken(dice, 5)
sideB2 = darken(dice, 7.5)
sideC = darken(dice, 10)
sideC2 = darken(dice, 12.5)
sideD = darken(dice, 15)
sideD2 = darken(dice, 17.5)
sideE = darken(dice, 20)
sideE2 = darken(dice, 22.5)

light = "Helvetica Neue Light", "HelveticaNeue-Light", "Helvetica Neue", Calibri, Helvetica, Arial, sans-serif
medium = "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif
heavy = "HelveticaNeue-CondensedBold", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif

device-width($device)
  if $device == lg-phone
    @media (min-width 375px)
      {block}
  else if $device == tablet
    @media (min-width 768px)
      {block}
  else if $device == laptop
    @media (min-width 992px)
      {block}
  else if $device == desktop
    @media (min-width 1200px)
      {block}


*
  box-sizing border-box

html, body, #container, #wrapper, .scale, #shadow
  margin 0
  padding 0
  width 100%
  height 100%
h1, h2, h3, h4, p
  margin 0
  padding 0
body
  font-family medium
  background #fedea6
  overflow hidden


#container
  background transparent url('../img/table.jpg') no-repeat top center
  background-size 242%

  .scale
    transform scale(0.5) translateY(-100px)

  +device-width(lg-phone)
    background-size 188%
    background-position top 10% center
  +device-width(tablet)
    background-size 120%
    .scale
      transform scale(0.7) translateY(-100px)
  +device-width(laptop)
    background-size cover
  +device-width(desktop)
    .scale
      transform translateY(-50px)

  #wrapper
    text-align center
    display flex
    flex-direction column
    .text
      min-height 150px
      h1
        font-size 90px
        line-height 80px
        margin 10px 0 0 0
        font-family heavy
        font-weight bold
        span
          letter-spacing -0.1em
      h2, h3
        font-family light
        font-weight normal
        font-size 17px
        margin 0
      h3
        font-size 14px
      hr
        border 0
        height 1px
        background-image linear-gradient(left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0))
        width 80%
    aside
      padding-bottom 30px
      &.animated
        animation fade 400ms 1 both ease-out
      p
        font-size 14px
        font-style italic
        background rgba(255,255,255,0.8)
        display inline-block
        padding 10px 20px
        border-radius 5px
        position relative
        color lighten(black, 20)
        animation hint 5s infinite both ease
        &:after
          content ''
          display block
          width 0
          height 0
          position absolute
          top -17px
          left 50%
          border-style solid
          border-width 0 10px 17px 10px
          border-color transparent transparent rgba(255,255,255,0.8) transparent
          margin-left -10px
    #ray
      position absolute
      top 0
      left 0
      right 0
      bottom 0
      &:before
        content ''
        display block
        position absolute
        background transparent url('../img/ray.png') no-repeat center center
        background-size 100%
        width 100%
        height 100%
        top 20px
        left 0
        animation ray 40s infinite both linear
      &:after
        content ''
        display block
        width 80px
        height @width
        border-radius @width
        box-shadow 0 0 30px 30px white
        position absolute
        margin auto
        left 0
        right 0
        top 10%
        bottom 0
        animation flash 2s infinite both linear
      &.animated
        animation fade 400ms 1 both ease-out


#message
  display none
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  background message url('../img/top-left.png') no-repeat top left
  background-size 50%
  &:before
    content ''
    display block
    width 100%
    height 100%
    position absolute
    top 0
    left 0
    background transparent url('../img/bottom-right.png') no-repeat bottom right
    background-size 25%
  .wrapper
    padding 25px 20px
    height 100%
    position relative
    display flex
    flex-direction column
    justify-content space-between
    align-items center
    +device-width(lg-phone)
      padding 60px 40px 40px 40px
    .happy
      text-align center
      h2
        font-family light
        font-weight normal
        font-size 17px
        +device-width(tablet)
          font-size 30.5px
      h3, h4
        font-family heavy
        font-size 44px
        +device-width(tablet)
          font-size 80px
      h4
        margin 0 -100%
        position relative
        &:before
          content ''
          display block
          height 3px
          width 100%
          background black
          position absolute
          top 50%
          left 0
        span
          position relative
          background message
          padding 0 12px
          border-radius 20px
          +device-width(tablet)
            padding 0 20px
    .wishes, .footer
      max-width 280px
      +device-width(tablet)
        max-width 400px
    .wishes
      p
        margin-bottom 0.8em
        font-size 14px
        +device-width(lg-phone)
          font-size 16px
        +device-width(tablet)
          font-size 18px




  p
    &:first-child
      margin-top 0
    &.small
      font-size 12px
      color rgba(0,0,0,0.4)
  &.animated
    display block
    animation fadeUp 400ms 7s 1 both
    transition transform 1s ease-out


#shadow
  /*background transparent url('img/shadow.png') no-repeat bottom 120px center*/
  /*background-size 80%*/
  transform translate3d(0,0,0)


#shapeD20
  position absolute
  margin -50px auto 0 auto
  top 0
  left 0
  padding 0
  list-style none
  width 100%
  height 100%
  transform-style preserve-3d

  .triShape
    overflow hidden
    transform rotate(0.5236rad) skewY(0.5236rad) scaleX(0.86603)
    .line
      width 10px
      height 100%
      background black
    &:before
      transform scaleX(1.1547) skewY(-0.5236rad) rotate(-0.5236rad) translateY(-50%)
      background-position 50% 100%
      background-repeat no-repeat
      background-size 10.5em 9.09327em
      content ''

    &:after
      padding 0
      margin 0
      display block
      width 100%
      height 100%
      font-size 25px
      font-weight bold
      color white
      text-align center
      line-height 65px
      left 0px
      position absolute
      transform rotateZ(-45deg)

  .side1
    .triColor
      &:before
        background-color rgba(255,0,0,0.9)
      &:after
        content ''
        background transparent url('../img/texture.png') no-repeat top 20px center
        background-size 50%
  .side6
    .triColor
      &:before
        background-color sideA
      &:after
        content 'BEST'
  .side7
    .triColor
      &:before
        background-color sideA2
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side16
    .triColor
      &:before
        background-color sideA
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side2
    .triColor
      &:before
        background-color sideB
      &:after
        content 'BEST'
  .side8
    .triColor
      &:before
        background-color sideB
      &:after
        content 'BEST'
  .side9
    .triColor
      &:before
        background-color sideB2
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side17
    .triColor
      &:before
        background-color sideB
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side3
    .triColor
      &:before
        background-color sideC
      &:after
        content 'BEST'
  .side10
    .triColor
      &:before
        background-color sideC
      &:after
        content 'BEST'
  .side11
    .triColor
      &:before
        background-color sideC2
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side18
    .triColor
      &:before
        background-color sideC
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side4
    .triColor
      &:before
        background-color sideD
      &:after
        content 'BEST'
  .side12
    .triColor
      &:before
        background-color sideD
      &:after
        content 'BEST'
  .side13
    .triColor
      &:before
        background-color sideD2
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side19
    .triColor
      &:before
        background-color sideD
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side5
    .triColor
      &:before
        background-color sideE
      &:after
        content 'BEST'
  .side14
    .triColor
      &:before
        background-color sideE
      &:after
        content 'BEST'
  .side15
    .triColor
      &:before
        background-color sideE2
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px
  .side20
    .triColor
      &:before
        background-color sideE
      &:after
        content 'BEST'
        transform rotateZ(135deg)
        line-height 250px

.icosahedron, .icosahedron *, .icosahedron *:before
  position absolute
  top 50%
  left 50%
  margin -5.25em
  width 10.5em
  height 10.5em
  transform-style preserve-3d

.pyramid-top
  transform translateY(-4.46592em) rotateX(0rad)

.middle
  transform rotateY(0.62832rad)

.pyramid-bottom
  transform translateY(4.46592em) rotateX(-3.14159rad)

.middle__half
  &:nth-child(1)
    transform translateY(4.46592em) rotateX(0rad)
  &:nth-child(2)
    transform translateY(-4.46592em) rotateX(-3.14159rad)

.icosahedron
  .innerFace_pyramid
    transform rotateX(0.91891rad)
  .innerFace_middle
    transform rotateX(-0.18869rad)


#shapeD20 .side1, #shapeD20 .side6, #shapeD20 .side7, #shapeD20 .side16
  transform rotateY(0rad) translateZ(7.22601em)

#shapeD20 .side2, #shapeD20 .side8, #shapeD20 .side9, #shapeD20 .side17
  transform rotateY(1.25664rad) translateZ(7.22601em)

#shapeD20 .side3, #shapeD20 .side10, #shapeD20 .side11, #shapeD20 .side18
  transform rotateY(2.51327rad) translateZ(7.22601em)

#shapeD20 .side4, #shapeD20 .side12, #shapeD20 .side13, #shapeD20 .side19
  transform rotateY(3.76991rad) translateZ(7.22601em)

#shapeD20 .side5, #shapeD20 .side14, #shapeD20 .side15, #shapeD20 .side20
  transform rotateY(5.02655rad) translateZ(7.22601em)

.fade
  opacity 0.1
.animated
  transition transform 1000ms cubic-bezier(0.175, 0.885, 0.320, 1)


@keyframes bounce
  0%
    transform translate3d(0px,0,-50px)
  25%
    transform translate3d(100px,-50px,-200px)
  50%
    transform translate3d(0px,-100px,-400px)
  75%
    transform translate3d(-100px,-50px,-200px)
  100%
    transform translate3d(0px,0px,0px)

@keyframes spin
  0%
    transform translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)
  16%
    transform translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg)
  33%
    transform translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg)
  50%
    transform translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg)
  66%
    transform translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg)
  83%
    transform translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg)
  100%
    transform translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg)

@keyframes spinStop
  0%
    transform rotateX(90deg) rotateY(45deg)
  3%
    transform rotateX(135deg) rotateY(45deg)
  6%
    transform rotateX(180deg) rotateY(90deg)
  9%
    transform rotateX(225deg) rotateY(90deg)
  12%
    transform rotateX(270deg) rotateY(45deg)
  24%
    transform rotateX(312deg) rotateY(0)
  28%
    transform rotateX(317deg) rotateY(0)
  35%
    transform rotateX(315deg) rotateY(0)
  97%
    transform rotateX(361deg) rotateY(0)
  98%
    transform rotateX(359deg) rotateY(0)
  99%
    transform rotateX(361deg) rotateY(0)
  100%
    transform rotateX(360deg) rotateY(0)

@keyframes fadeUp
  0%
    transform translateY(100%)
  100%
    transform translateY(0)

@keyframes fade
  0%
    opacity 1
  100%
    opacity 0

@keyframes ray
  0%
    transform scale(2) rotate(0deg)
  33%
    transform scale(2.3) rotate(90deg)
  66%
    transform scale(2) rotate(180deg)
  66%
    transform scale(2.3) rotate(270deg)
  100%
    transform scale(2) rotate(360deg)

@keyframes flash
  0%
    transform scale(1)
  50%
    transform scale(1.2)
  100%
    transform scale(1)

@keyframes hint
  0%
    transform translateY(0)
  4%
    transform translateY(-6px)
  20%
    transform translateY(0)
  100%
    transform translateY(0)

#container.bounce
  #shadow
    animation bounce 400ms 7 both
    transition transform 1s ease-out

  #shapeD20
    animation spin 400ms 7 both
    transition transform 1s ease-out
    &.stop
      animation spinStop 3s 1 both

